<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.vhouzi.abc.admin.promote.mapper.PromoteMetaMapper" >
  <resultMap id="DTOResultMap" type="com.vhouzi.abc.admin.promote.dto.PromoteMetaDTO"
    extends="BaseResultMap">
    <result column="member_card_type" property="memberCardType" jdbcType="INTEGER" />
    <result column="member_card_name" property="memberCardName" jdbcType="VARCHAR" />
  </resultMap>

  <select id="findScene" parameterType="java.lang.Long" resultMap="DTOResultMap">
    SELECT t1.*, t2.type member_card_type, t2.name member_card_name from member_tr_promote_meta t1
    LEFT JOIN member_tm_member_card t2
    on t1.member_card_id=t2.id where t1.id=${sceneId}
  </select>
  <update id="updateSelective" parameterType="java.util.Map">
    update member_tr_promote_meta
    set content=#{content}
    where id = #{id,jdbcType=INTEGER}
  </update>
</mapper>